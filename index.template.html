<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Thanks for coming!</title>
    <meta
      name="description"
      content="Thanks for coming to our wedding ðŸ˜Š We hope you have a wonderful time. We've posted a bunch of photos below. Download any you like by tapping/clicking on them. They're in social media sizes though, so let us know if you need a full-res version for printing."
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      /* Font */
      @font-face {
        font-family: "savucondensed";
        src: url("font/savu-condensed.woff2") format("woff2"),
          url("font/savu-condensed.woff") format("woff");
        font-weight: normal;
        font-style: normal;
      }
      :root {
        --background-color: #1f1f1f;
        --box-shadow-color: rgba(0, 0, 0, 0.5);
      }

      * {
        box-sizing: border-box;
      }

      body {
        background-color: var(--background-color);
        font-family: sans-serif;
        font-size: 16px;
        margin: 0.5em;
        text-align: center;
        scroll-behavior: smooth;
      }

      body.showLightbox {
        overflow: hidden;
      }

      .header {
        color: white;
        margin-bottom: 8px;
        position: relative;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
      }

      .header a {
        align-items: center;
        display: flex;
        height: 100%;
        justify-content: center;
        left: 0;
        overflow: hidden;
        position: absolute;
        top: 0;
        width: 100%;
        z-index: 1;
      }

      .header picture,
      .header img {
        display: block;
        width: 100%;
      }

      .header svg {
        margin: 1em auto;
        max-width: 400px;
        width: 50%;
      }

      .header .overlay {
        background-color: rgba(0, 0, 0, 0.5);
        height: 100%;
        overflow: hidden;
        padding: 1em 0;
        position: relative;
        z-index: 2;
      }

      .header .overlay h1,
      .header .overlay h2,
      .header .overlay h3,
      .header .overlay p {
        font-family: savucondensed, sans-serif;
        margin: 0 auto;
      }

      .header .overlay h1 {
        font-size: 10vw;
      }

      .header .overlay h2 {
        font-size: 5vw;
      }

      .header .overlay h3 {
        font-size: 4.5vw;
      }

      .header .overlay p {
        max-width: 800px;
        font-size: 4vw;
      }

      @media (min-width: 840px) {
        .header .overlay p {
          font-size: 2em;
        }
      }

      .image-container {
        column-width: 300px;
        column-gap: 8px;
        font-size: 0;
      }

      .image-container a {
        break-inside: avoid;
        display: block;
        padding-bottom: 8px;
        text-decoration: none;
      }

      .image-container picture {
        box-sizing: border-box;
        display: block;
        position: relative;
        width: 100%;
      }

      .image-container picture img {
        height: 100%;
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
      }

      img {
        box-shadow: 1px 1px 2px var(--box-shadow-color);
        border-radius: 5px;
      }

      .lightbox {
        align-items: center;
        background-color: rgba(0, 0, 0, 0.8);
        display: none;
        height: 100%;
        left: 0;
        overflow-y: hidden;
        overflow-x: auto;
        position: fixed;
        scroll-snap-type: x mandatory;
        top: 0;
        width: 100%;
        z-index: 3;
      }

      .lightbox:before,
      .lightbox:after {
        background-color: rgba(0, 0, 0, 0.75);
        background-color: rgba(255, 255, 255, 0.75);
        border-radius: 3px;
        box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.25);
        color: white;
        color: black;
        font-family: sans-serif;
        opacity: 0.9;
        position: fixed;
        padding: 6px 12px;
      }

      .lightbox:before {
        content: "X";
        cursor: pointer;
        display: block;
        font-size: 200%;
        right: 5%;
        top: 5%;
      }

      @media (hover: hover) {
        .lightbox:after {
          bottom: 5%;
          display: inline-block;
          content: "Use  \2190  and  \2192  arrow keys to navigate";
          font-size: 130%;
          left: 50%;
          transform: translateX(-50%);
        }
      }

      .showLightbox .lightbox {
        display: flex;
      }

      .lightbox img {
        box-shadow: none;
        height: 95vh;
        object-fit: contain;
        object-position: 50%;
        margin: 0 0.5em;
        scroll-snap-align: center;
        width: 95vw;
      }
    </style>
  </head>

  <body>
    <div class="header">
      <div class="overlay">
        <h1>Jamie &amp; Kristina</h1>
        <h2>Got married!</h2>
        <svg viewBox="0 0 197 65" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="none" />
          <g fill="#eab932">
            <path
              d="M19.02 8.122c1 .44.73 1.27.49 2s-1 .74-1.57.61a18.19 18.19 0 01-4.56-1.5q-5.73-2.9-11.48-5.74a2 2 0 01-1.06-.83C.53 2.002-.24 1.422.19.582s1.22-.52 1.86-.53h14.22a13.29 13.29 0 013.61.64c1.23.35 2.25.88 2.51 2.34s-.62 2.06-1.86 2.59c.49.8 1.24.77 1.83.92 18.25 4.89 106.58 29 124.83 33.88 8.58 2.3 17.13 4.67 25.69 7 1.15.32 2.23.84 3.12-.64.33-.55 1.3-.75 2-1.06a54.2 54.2 0 018.08-3.2c-2.37 2.56-5.49 4-8.77 6 1.62.51 2.72 1.2 4 0a5.17 5.17 0 012.11-.83 64.2 64.2 0 019.16-2.28c-1 1.28-1.09 1.31-4.36 2.5l-5.27 1.93c1.74 1 3 1.46 4.7.6a22.18 22.18 0 019.22-2.58 4.23 4.23 0 01-1.95 1.33c-1.85.92-3.69 1.87-5.59 2.68-1.15.49-1.18 1.1-.75 2.13a42.48 42.48 0 012.2 6.28 4.76 4.76 0 01.27 2.36 7.18 7.18 0 01-2-2.79 41.6 41.6 0 01-2.76-6.05c-.72-1.89-.69-1.9-3.1-2.33.85 3.11 2.44 5.85 3 9.13a3.24 3.24 0 01-1.61-1.82 46.05 46.05 0 01-2.79-5.79c-.78-2.25-2.32-3-4.83-3.11l3.93 9.65c-.79.22-1-.35-1.24-.73a58.85 58.85 0 01-4.38-8.32 3 3 0 00-2.31-1.87c-3.71-.85-7.45-1.65-11.09-2.77-7.38-2.26-14.87-4.12-22.31-6.16-15.64-4.28-101.35-27.78-117-32.06a12.39 12.39 0 01-1.77-.5c-1.18-.52-1.6 0-1.76 1.1-3.25-2.68-7.18-3.57-11.62-4.45a13.21 13.21 0 003.54 2.33 28.92 28.92 0 006.51 2.72c.7.18 1.43.36 1.56-.7zm-11-5.89c4.44 1.7 8.74 3 13.47 1-2.23-1.68-8.49-2.13-13.47-1z"
            />
            <path
              d="M179.46 8.822a28.92 28.92 0 006.52-2.75 13.21 13.21 0 003.48-2.34c-4.44.88-8.37 1.76-11.62 4.45-.16-1-.58-1.62-1.76-1.1a12.39 12.39 0 01-1.77.5c-15.64 4.27-101.35 27.78-117 32.06-7.44 2-14.93 3.89-22.31 6.16-3.64 1.12-7.37 1.92-11.09 2.77a3 3 0 00-2.31 1.87 58.85 58.85 0 01-4.38 8.32c-.26.39-.45 1-1.24.73l3.93-9.65c-2.51.12-4.05.86-4.83 3.11a46.05 46.05 0 01-2.79 5.79 3.24 3.24 0 01-1.61 1.82c.58-3.28 2.16-6 3-9.13-2.41.43-2.38.44-3.1 2.33a41.6 41.6 0 01-2.76 6.05 7.18 7.18 0 01-2 2.79 4.76 4.76 0 01.27-2.36 42.48 42.48 0 012.2-6.28c.44-1 .41-1.63-.75-2.13-1.9-.81-3.74-1.76-5.59-2.68A4.23 4.23 0 010 47.822a22.18 22.18 0 019.22 2.58c1.68.86 3 .36 4.7-.6l-5.27-1.93c-3.26-1.19-3.32-1.21-4.36-2.5a64.2 64.2 0 019.17 2.3 5.17 5.17 0 012.11.83c1.28 1.25 2.39.56 4 0-3.27-2-6.4-3.48-8.77-6a54.2 54.2 0 018.08 3.2c.7.31 1.66.51 2 1.06.89 1.48 2 1 3.12.64 8.56-2.35 17.12-4.72 25.69-7 18.25-4.9 106.58-29 124.83-33.88.59-.16 1.34-.13 1.83-.92-1.24-.52-2.11-1.16-1.86-2.59s1.28-2 2.51-2.34a13.29 13.29 0 013.61-.64h14.22c.64 0 1.47-.22 1.86.53s-.33 1.42-.65 2.08a2 2 0 01-1.06.83q-5.75 2.85-11.48 5.74a18.19 18.19 0 01-4.56 1.5c-.61.13-1.32.08-1.57-.61s-.52-1.52.49-2c.17 1.08.9.9 1.6.72zm-4-5.53c4.73 2 9 .65 13.47-1-5.01-1.19-11.27-.74-13.47 1z"
            />
          </g>
        </svg>
        <h3>10.08.2019</h3>
        <p>
          Click a pic for a full screen gallery in chronological order.
        </p>
      </div>
      <a href="img/header.jpg" target="_blank">
        <picture>
          <source
            type="image/webp"
            media="(max-width: 420px)"
            data-srcset="img/header-420.webp"
          />
          <source
            type="image/jpeg"
            media="(max-width: 420px)"
            data-srcset="img/header-420.jpg"
          />
          <source type="image/webp" data-srcset="img/header.webp" />
          <img class="lazyload" data-src="img/header.jpg" />
        </picture>
      </a>
    </div>
    <div class="image-container">
      {{the_content}}
    </div>
    <script src="lazysizes.min.js"></script>
    <script>
      (function($) {
        // $ maps to document
        // images overlay
        const imageLinks = $.querySelectorAll(
          ".image-container a[href*='.jpg']"
        );
        const images = $.querySelectorAll(
          ".image-container a[href*='.jpg'] picture"
        );
        let lightbox = $.createElement("div");
        lightbox.classList.add("lightbox");

        images.forEach(image => {
          // add images to lightbox
          const newImage = image.cloneNode(true);
          newImage.style.paddingTop = 0;
          lightbox.appendChild(newImage);

          // show on image click
          image.addEventListener(
            "click",
            event => {
              event.preventDefault();
              const file = event.currentTarget.dataset.file;
              showHideOverlay(file);
            },
            true
          );
        });

        // hide lightbox on click
        lightbox.addEventListener("click", () => showHideOverlay());

        // insert lightbox
        $.body.appendChild(lightbox);

        const showHideOverlay = file => {
          const isOpen = $.body.classList.contains("showLightbox");

          if (isOpen) {
            const scrollPage = entries => {
              const inView = entries.filter(entry => entry.isIntersecting);

              const selectedImage = $.querySelector(
                `.image-container [data-file="${inView[0].target.dataset.file}"]`
              );

              // disable intersection observer
              observer.disconnect();

              // show / hide overlay
              $.body.classList.toggle("showLightbox");

              // scroll page to currently viewed image
              selectedImage.scrollIntoView({
                block: "center",
                inline: "center"
              });
            };

            // create observer for lightbox images
            const observer = new IntersectionObserver(scrollPage, {
              root: $.querySelector(".lightbox"),
              threshold: 0.75
            });

            // run observer
            $.querySelectorAll(".lightbox picture").forEach(picture => {
              // watch for image scroll into view
              observer.observe(picture);
            });

            // remove keypress event listener
            window.removeEventListener("keydown", detectArrow);
          } else {
            // show / hide overlay
            $.body.classList.toggle("showLightbox");

            // scroll lightbox to selected image
            const selectedImage = $.querySelector(
              `.lightbox [data-file="${file}"]`
            );

            selectedImage.scrollIntoView();

            window.addEventListener("keydown", detectArrow);
          }
        };

        // left / right arrow navigation
        const scrollCarousel = left => {
          let distance = window.innerWidth;
          distance = distance * 0.95;
          distance = distance + 16;
          distance = left ? 0 - distance : 0 + distance;

          document.querySelector(".lightbox").scrollBy({
            left: distance,
            behavior: "smooth"
          });
        };

        // detect arrow function
        const detectArrow = event => {
          // 37 = left, 39 = right
          const code = event.keyCode;

          if (code === 37) {
            scrollCarousel(true);
          } else if (code === 39) {
            scrollCarousel(false);
          }
        };
      })(document);
    </script>
  </body>
</html>
